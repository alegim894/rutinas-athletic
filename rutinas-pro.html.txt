<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rutinas Pro</title>

<style>
:root {
  --bg:#f4f6f8;
  --card:#ffffff;
  --text:#1f2933;
  --accent:#2d8cff;
}
.dark {
  --bg:#0f1720;
  --card:#1f2933;
  --text:#e5e7eb;
  --accent:#4da3ff;
}
body {
  font-family: system-ui, sans-serif;
  margin:0;
  background:var(--bg);
  color:var(--text);
}
.container {
  max-width:700px;
  margin:auto;
  padding:20px;
}
.card {
  background:var(--card);
  padding:15px;
  border-radius:14px;
  box-shadow:0 6px 16px rgba(0,0,0,0.08);
  margin-bottom:15px;
}
.row { display:flex; gap:10px; flex-wrap:wrap; }
input, select {
  padding:10px;
  border-radius:10px;
  border:1px solid #ccc;
  flex:1;
}
button {
  padding:10px 14px;
  border:none;
  border-radius:10px;
  cursor:pointer;
  background:var(--accent);
  color:white;
}
.rutina {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px;
  border-radius:10px;
  background:rgba(0,0,0,0.05);
  margin-top:8px;
}
.done { text-decoration:line-through; opacity:0.6; }
.topbar {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:15px;
}
.progress {
  height:10px;
  background:#ddd;
  border-radius:10px;
  overflow:hidden;
}
.progress div {
  height:100%;
  background:var(--accent);
}
</style>
</head>

<body>
<div class="container">

  <div class="topbar">
    <h2>Mis Rutinas</h2>
    <button onclick="toggleDark()">ðŸŒ™</button>
  </div>

  <div class="card">
    <div class="row">
      <input id="nombre" placeholder="Rutina">
      <select id="categoria">
        <option>Salud</option>
        <option>Estudio</option>
        <option>Trabajo</option>
        <option>Personal</option>
      </select>
      <select id="dia">
        <option>Hoy</option>
        <option>Todos</option>
        <option>Lunes</option>
        <option>Martes</option>
        <option>MiÃ©rcoles</option>
        <option>Jueves</option>
        <option>Viernes</option>
        <option>SÃ¡bado</option>
        <option>Domingo</option>
      </select>
      <button onclick="agregar()">Agregar</button>
    </div>
  </div>

  <div class="card">
    <div class="progress">
      <div id="barra"></div>
    </div>
  </div>

  <div id="lista"></div>

</div>

<script>
let rutinas = JSON.parse(localStorage.getItem("rutinasPro")) || [];

function guardar(){
  localStorage.setItem("rutinasPro", JSON.stringify(rutinas));
}

function hoyNombre(){
  return ["Domingo","Lunes","Martes","MiÃ©rcoles","Jueves","Viernes","SÃ¡bado"][new Date().getDay()];
}

function agregar(){
  const nombre = document.getElementById("nombre").value.trim();
  const categoria = document.getElementById("categoria").value;
  const dia = document.getElementById("dia").value;
  if(!nombre) return;

  rutinas.push({nombre, categoria, dia, done:false});
  document.getElementById("nombre").value="";
  guardar();
  render();
}

function toggle(i){
  rutinas[i].done=!rutinas[i].done;
  guardar();
  render();
}

function borrar(i){
  rutinas.splice(i,1);
  guardar();
  render();
}

function render(){
  const lista=document.getElementById("lista");
  lista.innerHTML="";

  const hoy = hoyNombre();
  const visibles = rutinas.filter(r => r.dia==="Todos" || r.dia==="Hoy" || r.dia===hoy);

  let completadas=0;

  visibles.forEach((r,i)=>{
    if(r.done) completadas++;

    const div=document.createElement("div");
    div.className="card rutina";

    const texto=document.createElement("span");
    texto.textContent=${r.nombre} Â· ${r.categoria};
    if(r.done) texto.classList.add("done");
    texto.onclick=()=>toggle(i);

    const btn=document.createElement("button");
    btn.textContent="âœ•";
    btn.onclick=()=>borrar(i);

    div.appendChild(texto);
    div.appendChild(btn);
    lista.appendChild(div);
  });

  const progreso = visibles.length ? (completadas/visibles.length)*100 : 0;
  document.getElementById("barra").style.width = progreso + "%";
}

function toggleDark(){
  document.body.classList.toggle("dark");
  localStorage.setItem("modoOscuro", document.body.classList.contains("dark"));
}

if(localStorage.getItem("modoOscuro")==="true"){
  document.body.classList.add("dark");
}

render();
</script>
</body>
</html>
